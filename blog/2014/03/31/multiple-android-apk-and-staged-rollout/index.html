
<!DOCTYPE HTML>

<html>

<head>
	<meta charset="utf-8">
	<title>Multiple Android APK and staged rollout - Wanted: A cool title</title>
	<meta name="author" content="Fabien Demangeat">

	
	<meta name="description" content="Multiple Android APK and Staged Rollout In some conditions, you may need to publish different APKs for your application that are each targeted to &hellip;">
	

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

	<link href="/atom.xml" rel="alternate" title="Wanted: A cool title" type="application/atom+xml">
	
	<link rel="canonical" href="http://fabiendem.github.io/blog/2014/03/31/multiple-android-apk-and-staged-rollout/">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<link href="/stylesheets/font-awesome.min.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<link href='http://fonts.googleapis.com/css?family=Nunito:400,300,700' rel='stylesheet' type='text/css'>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	
  
	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-9878976-11']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>


</head>


<body>
	<div class="container">
		<div class="left-col">
			<div class="intrude-less">
			<header id="header" class="inner"><div class="profilepic">
	
	<img src="http://www.gravatar.com/avatar/2a34a8762aaf0fe99a5770aa6c0b60c2?s=160" alt="Profile Picture" style="width: 160px;" />
	
</div>

<nav id="main-nav"><ul class="main">
    <li><a href="/">Blog</a></li>
    <li><a href="/blog/archives">Archives</a></li>
</ul>
</nav>
<nav id="sub-nav">
	<div class="social">
		
		
		
		
		
			<a class="github" href="https://github.com/fabiendem" title="GitHub">GitHub</a>
		
		
		
		  <a class="stackoverflow" href="http://stackoverflow.com/users/633788/fabien-demangeat" title="StackOverflow"></a>
		
		
			<a class="linkedin" href="http://www.linkedin.com/in/fabiendemangeat" title="LinkedIn">LinkedIn</a>
		
		
		
		
		
		
		
    	
    	
			<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
	</div>
</nav>
</header>				
			</div>
		</div>	
		<div class="mid-col">
			
				
			
			<div class="mid-col-container">
				<div id="content" class="inner"><article class="post" itemscope itemtype="http://schema.org/BlogPosting">
	<h1 class="title" itemprop="name">Multiple Android APK and Staged Rollout</h1>
	<div class="entry-content" itemprop="articleBody"><p>In some conditions, you may need to publish different APKs for your application that are each targeted to different device configuration. Even if it&rsquo;s not really recommended, it is possible thanks to the <a href="http://developer.android.com/google/play/publishing/multiple-apks.html">Multiple APK support</a>.</p>

<p>Another cool feature from the Android distribution system is the staged-rollout, recently introduced by Google. The feature is <a href="https://support.google.com/googleplay/android-developer/answer/3131213">well described on the distribution support website</a> and <a href="http://developer.android.com/distribute/googleplay/about/distribution.html">also on the Android developer website</a>.<br/>
Basically it allows to distribute your app to a percentage of users in order to gather possible critical bug reports and reviews before all your user based gets the update pushed on their device, you can slowly increase the percentage of users getting the update when you are more confident with your modifications.</p>

<p>Despite of the detailed documentation, a question raised while working on a Android app didn&rsquo;t find its answer from the documention:</p>

<blockquote><p>If you have 2 APKs, let&rsquo;s say one for 2 APIs level ranges (eg: API >=17 and &lt; 17). You want to publish an update for the users having a device running on Android API >= 17, and you select a stage rollout distribution for 20% of your user.<br/>
On which users group will the percentage be based? All the users having your app (API &lt; 17 and API >= 17) or only the users who have a compatible device (API >= 17)?</p></blockquote>

<p>We haven&rsquo;t found the answer in the documentation, but the Google Play developer support team came up with this answer which may help you:</p>

<blockquote><p>If you select 20% for your staged rollout of the APK that is set for API 17+ then you should expect the 20% to be taken from users that have devices compatible with that API version, instead of all users eligible for the application.<br/>
<cite>Google Play developer support</cite></p></blockquote>

<p>Now the answer is clear!</p>
</div>

</article>

	<div class="share">
	<div class="addthis_toolbox addthis_default_style ">
	
	<a class="addthis_button_facebook_like" fb:like:layout="button_count"></a>
	
	
	<a class="addthis_button_tweet"></a>
	
	
	<a class="addthis_button_google_plusone" g:plusone:size="medium"></a>
	
	<a class="addthis_counter addthis_pill_style"></a>
	</div>
  <script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#pubid="></script>
</div>



<section id="comment">
    <h1 class="title">Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
</section>
</div>
			</div>
			<footer id="footer" class="inner">Copyright &copy; 2014

    Fabien Demangeat


Design credit: <a href="http://shashankmehta.in/archive/2012/greyshade.html">Shashank Mehta</a></footer>
		</div>
	</div>
</body>
</html>
